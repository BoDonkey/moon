<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="API. Kabir Shah's blog.">
  <meta name="author" content="Kabir Shah">

  <title>Moon</title>
  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../fonts/fonts.css" />
  <link rel="stylesheet" type="text/css" href="../css/lib/wing.min.css" />
  <link rel="stylesheet" type="text/css" href="../css/styles.css" />
  <script type="text/javascript" src="../dist/moon.js"></script>
</head>

<body>
  <div id="sidebar-toggle">
    <span id="sidebar-toggle-1"></span>
    <span id="sidebar-toggle-2"></span>
    <span id="sidebar-toggle-3"></span>
  </div>
  <aside class="sidebar">
    <h3 class="sidebar-head">Moon</h3>
    <div class="sidebar-nav">
      <a href="./installation.html">Installation</a>
      <a href="./overview.html">Overview</a>
      <a href="./getting-started.html">Getting Started</a>
      <a href="./instance.html">Instance</a>
      <a href="./compiler.html">Compiler</a>
      <a href="./examples.html">Examples</a>
      <a href="./api.html" class="sidebar-link-active">API</a>
    </div>
  </aside>
  <div class="post">
    <div class="container-small">
      <h1 class="post-title">API</h1>
      <div class="post-content">
        <p>This is a complete guide to Moon&#39;s API, including all instance methods and global methods.</p>
<h4 id="configuration">Configuration</h4>
<p>Moon comes with a global <code>Moon.config</code> object that can be used to set any custom settings provided.</p>
<h5 id="-silent-"><strong>silent</strong></h5>
<ul>
<li>Type: <code>Boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">Moon.config.silent = true;
</code></pre>
<p>Can toggle all logs (excluding errors)</p>
<h5 id="-prefix-"><strong>prefix</strong></h5>
<ul>
<li>Type: <code>String</code></li>
<li>Default: <code>&quot;m&quot;</code></li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">Moon.config.prefix = &quot;data-m&quot;;
</code></pre>
<p>Can set the prefix used for directives (ie <code>data-m-if</code> instead of <code>m-if</code>). Just remember, all directives are not present in runtime.</p>
<h5 id="-keycode-"><strong>keycode</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{Object} keycodes</code></li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">Moon.config.keycodes({
  m: 77
});
</code></pre>
<p>Can set custom keycodes usable in <code>m-on</code> modifiers. For example:</p>
<pre><code class="lang-html">&lt;input m-on=&quot;keyup.m:someMethod&quot;/&gt;
</code></pre>
<p>It will only fire when the <code>m</code> key is being clicked.</p>
<h5 id="-version-"><strong>version</strong></h5>
<ul>
<li>Type: <code>String</code></li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">Moon.version;
</code></pre>
<p>Returns the current version of Moon in string format.</p>
<h4 id="global">Global</h4>
<p>Moon comes with global methods available via <code>Moon.foo</code> that don&#39;t come with every instance.</p>
<h5 id="-use-"><strong>use</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{Object} plugin</code></li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">Moon.use(myPlugin);
</code></pre>
<p>Can initialize and begin using a Moon plugin.</p>
<h5 id="-compile-"><strong>compile</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{String} html</code></li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">Moon.compile(&quot;&lt;h1&gt;{{msg}}&lt;/h1&gt;&quot;);
</code></pre>
<p>Can be used to precompile Moon templates to render functions (to be used internally)</p>
<h5 id="-nexttick-"><strong>nextTick</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{Function} task</code></li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">Moon.nextTick(function() {
  // some task
});
</code></pre>
<p>Can be used to do tasks after Moon has finished updating the DOM. Since Moon&#39;s DOM updates are done asynchronously, the DOM will not be changed right after setting a property, instead, it will be queued.</p>
<h5 id="-directive-"><strong>directive</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{String} name</code></li>
<li><code>{Function} action</code></li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">Moon.directive(&#39;custom&#39;, function(el, val) {
  // some task with the element
});
</code></pre>
<p>Can be used to create custom directives for Moon, the example above, a directive called <code>m-custom</code> will be created. This can be used anywhere, and will be automatically extracted from the DOM during runtime.</p>
<p>You will be provided with the element the directive is in, and the value of the directive.</p>
<h5 id="-component-"><strong>component</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{String} name</code></li>
<li><code>{Object} opts</code></li>
</ul>
</li>
<li>Return: <code>{Function} component</code></li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">Moon.component(&#39;my-component&#39;, {
  template: &quot;&lt;h1&gt;Custom Component&lt;/h1&gt;&quot;
});
</code></pre>
<p>Used to create custom components, usable in HTML like <code>&lt;my-component&gt;&lt;/my-component&gt;</code>. Can take all options a Moon instance takes (except <code>el</code>)</p>
<h4 id="instance-methods">Instance Methods</h4>
<p>Every Moon instance comes with built in methods specific to that instance, you can call them like: <code>instance.foo</code>.</p>
<h5 id="-get-"><strong>get</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{String} property</code></li>
</ul>
</li>
<li>Returns: <code>{String} value</code></li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">instance.get(&#39;property&#39;).foo.bar;
</code></pre>
<p>Can return a value from Moon instance data.</p>
<h5 id="-set-"><strong>set</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{String} keypath</code></li>
<li><code>{Any} value</code></li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">instance.set(&#39;property.foo.bar&#39;, &#39;baz&#39;);
</code></pre>
<p>Used to set Moon instance data, ensuring that a DOM build is queued.</p>
<h5 id="-callmethod-"><strong>callMethod</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{String} method</code></li>
<li><code>{Array} params</code> (optional)</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">instance.callMethod(&#39;foo&#39;, [&#39;bar&#39;, 10]);
</code></pre>
<p>Used to call a method defined in the <code>methods</code> option of a Moon instance with the provided parameters. It should always be used to call a method manually, as <code>this</code> will refer to the Moon instance.</p>
<h5 id="-mount-"><strong>mount</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{String} selector</code></li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">instance.mount(&quot;#app&quot;);
</code></pre>
<p>Used to manually mount an instance to an element, compiling a template or using a render function, and running the initial build.</p>
<h5 id="-destroy-"><strong>destroy</strong></h5>
<p>Usage:</p>
<pre><code class="lang-js">instance.destroy();
</code></pre>
<p>Used to manually destroy (unmount) an instance. Updated data won&#39;t be queued anymore, unless mounted again.</p>
<h5 id="-mount-"><strong>mount</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{String} selector</code></li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">instance.mount(&quot;#app&quot;);
</code></pre>
<p>Used to manually mount an instance to an element, compiling a template or using a render function, and running the initial build.</p>
<h5 id="-build-"><strong>build</strong></h5>
<p>Usage:</p>
<pre><code class="lang-js">instance.build();
</code></pre>
<p>Used to force a build an instance, rerendering the virtual DOM, and patching.</p>
<h5 id="-on-"><strong>on</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{String} event</code></li>
<li><code>{Function} listener</code></li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">instance.on(&quot;foo&quot;, function(evt) {
  // do something
});
</code></pre>
<p>Used to attach an event listener to a certain event to the instance. You can also listen on a wildcard event (<code>*</code>) to attach an event listener that will be invoked if any event is called.</p>
<h5 id="-off-"><strong>off</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{String} event</code></li>
<li><code>{Function} listener</code></li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">instance.off(&quot;foo&quot;, listener);
</code></pre>
<p>Used to remove an event listener from a certain event.</p>
<h5 id="-emit-"><strong>emit</strong></h5>
<ul>
<li>Arguments:<ul>
<li><code>{String} event</code></li>
<li><code>{Object} data</code> (optional)</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<pre><code class="lang-js">instance.emit(&quot;foo&quot;, {bar: true});
</code></pre>
<p>Used to emit an event, invoking all current event listeners for that specific events. If there is custom data provided, it will attach this data and provide it as the first parameter. By default, the custom data will always have a <code>type</code> to indicate the type of event fired:</p>
<pre><code class="lang-js">{
  type: &#39;foo&#39; // event name
}
</code></pre>

      </div>
    </div>
  </div>
  <script type="text/javascript" src="../js/post.js"></script>
</body>

</html>
